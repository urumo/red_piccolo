module Modules
    <% modules = name.split('::') %>
    <% klass = modules.pop %>
    <% modules.each do |mod| %>
    module <%= mod %>
      <% end %>
      module <%= klass %>
        extend Modules::GqlErrorHandler
        <% attributes.map do |attr| %>
        def <%= attr.name %>; end
        <% end %>
      end
    <% modules.each do |_mod| %>
    end
    <% end %>
end