<% modules = name.split('::') %>
<% klass = modules.pop %>
<% modules.each do |mod| %>
module <%= mod %>
  <% end %>
  class <%= klass %> < ApplicationService
    attr <%= attributes.map {|attr| ":#{attr.name}"}.join ', ' %>

    def initialize(<%= attributes.map {|attr| attr.name}.join ', ' %>)
      <% attributes.each do |attr| %>
      <%= "@#{attr.name}" %> = <%= attr.name %>
      <% end %>
      super()
    end

    def call
      nil
    end
  end
<% modules.each do |_mod| %>
end
  <% end %>